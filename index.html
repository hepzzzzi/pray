<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‚¬ë‘ì„ ê¸°ë„í•˜ëŠ” ë””ì§€í„¸ ì‹ ì „</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Hahmlet:wght@500&display=swap" rel="stylesheet">
</head>
<body>

<!-- ì‹ ì „ ì½œë¼ì£¼ ì˜ì—­ -->
<div class="gif-collage collage-19" style="display: block;">
  <img src="gif/19/flyingBalloon.gif" class="gif-19-1">
  <img src="gif/19/elefant.gif" class="gif-19-2">
  <img src="gif/19/party dancing GIF.gif" class="gif-19-3">
  <img src="gif/19/Party Hard GIF by MOODMAN.gif" class="gif-19-4">
  <img src="gif/19/Excited Season 7 GIF by The Office.gif" class="gif-19-5">
  <img src="gif/19/helium_clowns.gif" class="gif-19-6">
  <img src="gif/19/Welcome.gif" class="gif-19-7">
  <img src="gif/19/stparty.gif" class="gif-19-8">
  <img src="gif/19/partycake.gif" class="gif-19-9">
  <img src="gif/19/Tigger.gif" class="gif-19-10">
</div>

<!-- ì¢Œìš° ê¸°ë‘¥ (ì‹ ì „ ì¥ì‹) -->
<img src="gif/pillarfire.gif" class="pillar left">
<img src="gif/pillarfire.gif" class="pillar right">

<div class="main-layout">
  <!-- ì¸í˜• -->
  <div class="god">
    <img src="img/god19.png" class="god-img">
  </div>

  <!-- ì‘ë‹µ í…ìŠ¤íŠ¸ -->
  <p class="response" id="response"></p>
  <img src="gif/flash-01.gif" class="star-flash" id="starFlash">

  <div class="action-wrap">
    <div class="candle-group left"></div>

    <div class="info-block">
      <div class="god-name" id="godName"></div>
      <button onclick="pray()">ê¸°ë„í•˜ê¸°</button>
    </div>

    <div class="candle-group right"></div>
  </div>


</div>




<!-- ì¶œì²˜ í‘¸í„° -->
<div class="footer-credit">
  GIF ì¶œì²˜: <a href="https://gifcities.org/" target="_blank">gifcities</a> ë° <a href="https://giphy.com" target="_blank">giphy</a>
</div>

<script>
  const gods = {
    19: {
      name: "íŒŒí‹°ì˜ ì‹ ",
      image: "img/god19.png",
      responses: [
        "ì¶¤ì¶”ëŠ” ìëŠ”<br>ì§€ì¹˜ì§€ ì•„ë‹ˆí•˜ë¦¬ë¼",
        "ë„ˆì˜ ì”ì€<br>ë‹¤ì‹œ ì°¨ì˜¤ë¥´ë¦¬ë¼",
        "ëª¨ë“  ëª…ë‹¨ì—<br>ë„¤ ì´ë¦„ ìˆìœ¼ë¦¬ë¼",
        "ê¸°ì–µë‚˜ì§€ ì•ŠëŠ” ìˆœê°„ì¡°ì°¨<br>ë„ˆì˜ ê²ƒì´ë¦¬ë¼",
        "ì²« ì”ì„ í•¨ê»˜ ë“¤ ì<br>ê³ì— ìˆìœ¼ë¦¬ë¼"
      ]
    }
  };

  const currentGod = 19; // í˜„ì¬ ë³´ì—¬ì¤„ ì‹ ì˜ ë²ˆí˜¸

  const flash = document.getElementById("starFlash");
  const responseEl = document.getElementById("response");
  const godNameEl = document.getElementById("godName");
  const godImgEl = document.querySelector(".god-img");
  const gifCollage = document.getElementById("gifCollage");
  const left = document.querySelector('.candle-group.left');
  const right = document.querySelector('.candle-group.right');

  let isCooldown = false;
  let activeResponseTimeout;

  // ğŸ•¯ï¸ ì´›ë¶ˆ ì¢Œìš°ì— 3ê°œì”© ë°°ì¹˜
  for (let i = 0; i < 3; i++) {
    const imgL = document.createElement('img');
    imgL.src = 'gif/pillarcandle.gif';
    imgL.className = 'candle';
    left.appendChild(imgL);

    const imgR = document.createElement('img');
    imgR.src = 'gif/pillarcandle.gif';
    imgR.className = 'candle';
    right.appendChild(imgR);
  }

  // âœ¨ gif ì½œë¼ì£¼ ì‚½ì…
  function loadGifSet(godNumber) {
    gifCollage.innerHTML = "";
    for (let i = 1; i <= 5; i++) {
      const img = document.createElement("img");
      img.src = `gif/${godNumber}/gif${i}.gif`;
      img.className = "collage-gif";
      gifCollage.appendChild(img);
    }
  }

  // ğŸ™ ê¸°ë„ ê¸°ëŠ¥
  function pray() {
    if (isCooldown) return;
    isCooldown = true;

    const godResponses = gods[currentGod].responses;
    const r = Math.floor(Math.random() * godResponses.length);
    const godColorClass = `god-color-${currentGod}`;

    flash.style.opacity = "0";
    clearTimeout(activeResponseTimeout);

    // ì‘ë‹µ í…ìŠ¤íŠ¸ì™€ ì»¬ëŸ¬ ì ìš©
    responseEl.className = `response ${godColorClass}`;
    responseEl.innerHTML = godResponses[r].replace(/<span class='mbr'> <\/span>/g, "<br>");

    // ì• ë‹ˆë©”ì´ì…˜ ì ìš©
    requestAnimationFrame(() => {
      responseEl.classList.add("fade");
    });

    // ì‘ë‹µ ì œê±°ë§Œ (í´ë˜ìŠ¤ëŠ” ìœ ì§€)
    activeResponseTimeout = setTimeout(() => {
      responseEl.innerHTML = "";
      isCooldown = false;
      flash.style.opacity = "0.8";
    }, 3000);
  }


  function showCollageFor(godNumber) {
    document.querySelectorAll('.gif-collage').forEach(el => {
      el.style.display = 'none';
    });
    const target = document.querySelector(`.collage-${godNumber}`);
    if (target) target.style.display = 'block';
  }

  // ğŸ”„ ë¡œë”© ì‹œ ì¸í˜•/ì´ë¦„/GIF ì…‹íŒ…
  function loadGod(godNumber) {
    const god = gods[godNumber];
    const nameEl = document.querySelector('.god-name');

    // ì‹  ì´ë¦„ ë°”ê¾¸ê¸°
    nameEl.innerText = god.name;

    // ì»¬ëŸ¬ í´ë˜ìŠ¤ ì ìš©
    godNameEl.className = `god-name god-color-${godNumber}`;
    responseEl.className = `response god-color-${godNumber}`;
  }

  // â–¶ï¸ í˜ì´ì§€ ë¡œë”© ì‹œ ì´ˆê¸°í™”
  loadGod(currentGod);
</script>



</body>
</html>
